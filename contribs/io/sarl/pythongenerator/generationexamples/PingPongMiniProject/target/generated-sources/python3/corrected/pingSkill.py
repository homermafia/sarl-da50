#!/usr/bin/env python3
# Generated by the SARL compiler the Thu Oct 13 11:30:30 CEST 2022. Do not change this file.

from io.sarl.core import OpenEventSpace
from io.sarl.lang.core import Address
from io.sarl.lang.core import Event
from io.sarl.lang.core import Skill

from PingEvent import PingEvent


class pingSkill(Skill, object):
    def sendping(self):
        if self.spc.getNumberOfStrongParticipants() > 1:
            e = PingEvent(0)
            print(u"Sending ping event")
            self.spc.emit(self.getID(), e)
        else:
            print(u"I am alone in this event")

    def replyPing(self, occ: Event):
        class __Jclosure_(Address):
            def matches(self, it):
                return it == occ.getSource()

        if self.spc.getNumberOfStrongParticipants() > 1:
            e = PingEvent(0)
            print(u"Replying with ping event")
            self.spc.emit(self.getID(), e, __Jclosure_(Address))
        else:
            print(u"I am alone in this event")

    def __init__(self, pingSpace: OpenEventSpace):
        self.spc = pingSpace
